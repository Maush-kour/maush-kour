# Generate a new ZIP with the updated Maush Kour template per user's final spec.
from PIL import Image, ImageDraw, ImageFont
import os, zipfile, io, random, textwrap

OUT_DIR = "/mnt/data/maushkour_final"
os.makedirs(OUT_DIR, exist_ok=True)
os.makedirs(os.path.join(OUT_DIR, "images"), exist_ok=True)
os.makedirs(os.path.join(OUT_DIR, "css"), exist_ok=True)
os.makedirs(os.path.join(OUT_DIR, "js"), exist_ok=True)

# Create 20 placeholder images (catalog-style)
for i in range(1,21):
    img = Image.new("RGB", (1200,800), color=(250,250,250))
    d = ImageDraw.Draw(img)
    try:
        font = ImageFont.truetype("/usr/share/fonts/truetype/dejavu/DejaVuSans-Bold.ttf", 60)
        font_small = ImageFont.truetype("/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf", 24)
    except:
        font = ImageFont.load_default()
        font_small = ImageFont.load_default()
    title = f"Producto {i:02d}"
    w,h = d.textsize(title, font=font)
    d.rectangle([50,50,1150,700], outline=(200,200,200), width=4)
    d.text(((1200-w)/2,300), title, fill=(20,20,20), font=font)
    subtitle = "Imagen genérica - Maush Kour"
    sw,sh = d.textsize(subtitle, font=font_small)
    d.text(((1200-sw)/2,500), subtitle, fill=(80,80,80), font=font_small)
    img_path = os.path.join(OUT_DIR, "images", f"product{i:02d}.jpg")
    img.save(img_path, quality=85)

# Save user's logo copy as placeholder if not provided
logo_path = os.path.join(OUT_DIR, "images", "logo.png")
try:
    # try to reuse uploaded logo from previous kernel path if exists
    src = "/mnt/data/maushkour_site/images/product01.jpg"
    Image.open(src).save(logo_path)
except:
    # generate simple logo placeholder
    img = Image.new("RGB", (800,400), color=(20,20,20))
    d = ImageDraw.Draw(img)
    try:
        font = ImageFont.truetype("/usr/share/fonts/truetype/dejavu/DejaVuSans-Bold.ttf", 80)
    except:
        font = ImageFont.load_default()
    text = "MAUSH KOUR"
    w,h = d.textsize(text, font=font)
    d.text(((800-w)/2,150), text, fill=(255,215,0), font=font)  # gold-ish
    d.text(((800-w)/2,250), "Tu marca · Tu estilo · Tu momento", fill=(255,255,255), font=font_small)
    img.save(logo_path, quality=90)

# CSS (black/white/gold theme, responsive)
css = """
:root{
  --bg:#000;
  --card:#0b0b0b;
  --muted:#bdbdbd;
  --accent:#d4af37; /* gold */
  --white:#fff;
  --gap:16px;
}
*{box-sizing:border-box;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
body{margin:0;background:var(--bg);color:var(--white);-webkit-font-smoothing:antialiased}
.top-banner{background:#111;padding:8px;text-align:center;color:var(--accent);font-weight:700;font-size:14px}
.header{display:flex;align-items:center;justify-content:space-between;padding:18px 28px;border-bottom:1px solid #111}
.logo-area{display:flex;align-items:center;gap:12px}
.logo-area img{height:56px;width:auto;border-radius:8px}
.search-area{flex:1;margin:0 24px;display:flex;align-items:center;gap:10px;max-width:700px}
.search-area input{flex:1;padding:12px 14px;border-radius:10px;border:1px solid #222;background:#0a0a0a;color:var(--white)}
.search-area button{padding:10px 14px;border-radius:10px;border:0;background:var(--accent);color:#000;font-weight:800;cursor:pointer}
.nav-actions{display:flex;align-items:center;gap:10px}
.icon-btn{background:transparent;border:1px solid #222;padding:10px;border-radius:10px;color:var(--white);cursor:pointer}
.hero{display:flex;align-items:center;justify-content:space-between;padding:40px 28px;background:linear-gradient(90deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));gap:20px}
.hero .
